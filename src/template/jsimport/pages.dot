import chai from 'chai'
import chaiHttp from 'chai-http'
import request_helper from '{{path_helper}}'
import config from '{{path_config}}'
import { schema } from '{{path_schema}}'{{path_data}}
chai.use(chaiHttp)

class Request {
    constructor() {
		// Write your constructor here, if you nee
		// Set up the api with the endpoint based on the environment and change this according to endpoint service
		this.url = "{{url}}" // Set up the API path to the route endpoint
    }

	get request() {
		return chai.request(new config().env().host)
	}

    // This method handles making the HTTP request based on given arguments.
    async api(...args) {
		// Send HTTP POST request to the specified path and send the required body with params extracted from args.
		const response = await this.request.{{method}}(this.url){{query}}{{header}}{{payload}}

		return response
    }
    {{body_section}}
	
	// This method used for provide expectation and return json schema
    expect(cases="success") {
		return new request_helper().getSchema(schema, cases)
    }
}

module.exports = Request